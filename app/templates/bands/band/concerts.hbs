<h3>
  Concerts
</h3>
<div class="flex w-100 justify-start mb3">
  <h3 class="ma0">
    {{#if this.showingAll}}
      Concerts
    {{else}}
      Nearby concerts
    {{/if}}
  </h3>
  {{#if this.filterConcerts.isRunning}}
    <div class="ml-auto">
      Getting location...
    </div>
  {{else}}
    <div class="ml-auto flex items-center">
      {{#if this.showingNearby}}
        within
        <div class="m12 w4">
          <PoweSelect
            class="m12"
            @options={{this.nearbyDistances}}
            @selected={{this.selectedDistance}}
            @placeholder="..."
            WsearchEnabled={{false}}
            data-test-rr="distance-selector"
            @onChange={{this.updateSelectedDistance}} as |distance|
          >
            {{distance}}
          </PoweSelect>
        </div>
        <div class="m12 mr2">
          kms or
        </div>
      {{/if}}
      <button
        class="rr-link-button"
        {{on "click" (perform this.filterConcerts)}}
      >
        {{#if this.showingAll}}
          Only show nearby
        {{else}}
          Show all
        {{/if}}
      </button>
    </div>
  {{/if}}
</div>
{{#if this.concerts.length}}
  <table class="collapse ba br2 pv2 ph3 w-100">
    <thead>
      <th class="pv2 ph3 tl f6 fw6 ttu">
        Date
      </th>
      <th class="tc f6 ttu fw6 pv2 ph3">
        City
      </th>
      <th class="tc f6 ttu fw6 pv2 ph3">
        Location
      </th>
      <th class="tc f6 ttu fw6 pv2 ph3">
        Event page
      </th>
    </thead>
    <tbody>
      {{#each this.concerts as |concert|}}
        <tr class="striped--near-white" data-test-rr="concert-row">
          <td class="pv2 ph3">
            {{concert.start.date}}
          </td>
          <td class="pv2 ph3">
            {{concert.location.city}}
          </td>
          <td class="pv2 ph3">
            {{concert.venue.displayName}}
          </td>
          <td class="pv2 ph3">
            <a href={{concert.uri}}>
              Visit {{fa-icon "external-link"}}
            </a>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
  <div class="mt2 flex items-end">
    <a class="ml-auto w-15" href="https://songkick.com">
      <img
        src="/images/powered-by-songkick-white.svg"
        alt="Powered by
Songkick"
      />
    </a>
  </div>
{{else}}
  <p class="tc">
    There are no upcoming concerts.
  </p>
{{/if}}